---
import {
	Component,
	SnipcartSetup,
	SnipcartTotalPrice,
	SnipcartItemsCount,
	SnipcartCheckout,
	SnipcartProduct,
} from '@lloydjatkinson/astro-integration-demo-components/astro';
---
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">

	<link rel="icon" type="image/x-icon" href="/favicon.ico" />

	<style>
		header {
			display: flex;
			flex-direction: column;
			gap: 1em;
			max-width: min(100%, 68ch);
		}
		article {
			padding-top: 2em;
			line-height: 1.5;
			display: flex;
			flex-direction: column;
			gap: 1em;
			max-width: 70ch;
		}
		.banner {
			text-align: center;
			font-size: 1.2rem;
			background: var(--color-light);
			padding: 1em 1.5em;
			padding-left: 0.75em;
			border-radius: 4px;
		}

		button.snipcart-button-primary {
			background-color: #1a4db3 !important;
		}

	</style>
	<style is:global>
		pre {
			padding: 1rem;
		}
	</style>
	<SnipcartSetup />
</head>

<body>

  <div>
  </div>
  <label>Quantity</label>
  <input id="quantity" type="number">
  <label>Frame color</label>
  <select id="frame_color">
    <option value="Black">Black</option>
    <option value="Brown">Brown</option>
    <option value="Gold">Gold</option>
  </select>
  <button
    id="starry-night"
    class="snipcart-add-item"
    data-item-id="starry-night"
    data-item-price="79.99"
    data-item-url="/"
    data-item-description="High-quality replica of The Starry Night by the Dutch post-impressionist painter Vincent van Gogh."
    data-item-image="/assets/images/starry-night.jpg"
    data-item-name="The Starry Night"
    data-item-custom1-name="Frame color"
    data-item-custom1-options="Black|Brown|Gold"
    data-item-custom2-name="Gift note">
    Add to cart
  </button>
  <script>
  const button = document.querySelector('#starry-night')
  const quantity = document.querySelector('#quantity')
  quantity.addEventListener('change', () => {
    // Sets the default quantity when adding the item
    button.setAttribute('data-item-quantity', quantity.value)
  })
  const select = document.querySelector('#frame_color')
  select.addEventListener('change', () => {
    // Sets the default frame color when adding the item
    button.setAttribute("data-item-custom1-value", select.value)
  })
  </script>
</body>
</html>